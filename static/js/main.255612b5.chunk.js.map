{"version":3,"sources":["api/index.js","pages/CreateLogPage.js","pages/ReportPage.js","components/ProfileWrapper.js","pages/LoginPage.js","App.js","redux/store.js","index.js"],"names":["admins","employees","map","i","n","name","id","image","isAdmin","indexOf","api","DOMAIN","getAllEmployees","getLogsForEmployee","axios","get","this","then","x","data","createLog","log","post","getLogs","populateDummyData","forEach","employeeId","Array","fill","y","date","remarks","start_time","end_time","CreateLogPage","state","useSelector","dispatch","useDispatch","React","useState","Date","setDate","startTime","setStartTime","loading","setLoading","endTime","setEndTime","className","class","onSubmit","event","preventDefault","target","querySelector","value","trim","currentUser","dayjs","format","type","catch","alert","finally","placeholder","selected","onChange","showTimeSelect","showTimeSelectOnly","timeIntervals","timeCaption","dateFormat","logs","filter","ReportPage","setSelected","onClick","console","dailyLogs","useMemo","newLogs","e","find","ft","mins","diff","totalHours","parseFloat","batchLogsForIntervalOf","size","o","Object","keys","batches","arr","reduce","acc","_","slice","chunker","entries","k","v","JSON","stringify","batchLogsForAMonth","ProfileWrapper","src","alt","LoginPage","history","useHistory","push","PrivateRoute","Component","component","authed","rest","exact","render","props","to","pathname","from","location","App","useEffect","document","style","display","querySelectorAll","Navbar","href","path","actions","initState","store","createStore","action","ReactDOM","StrictMode","getElementById"],"mappings":"qOAGMA,EAAS,CAAC,GACVC,EAFQ,CAAC,SAAU,OAAQ,MAAO,SAAU,YAE1BC,KAAI,SAACC,EAAGC,GAAJ,MAAW,CACrCC,KAAMF,EACNG,GAAIF,EACJG,MAAM,6CAAD,OAA+CH,EAA/C,QACLI,QAASR,EAAOS,QAAQL,IAAM,MA6CjBM,EA1CH,CACVC,OAAQ,oDAERC,gBAHU,WAIR,OAAOX,GAETY,mBANU,SAMSP,GAGjB,OAAOQ,IACJC,IAAIC,KAAKL,OAAS,oBAAsBL,GACxCW,MAAK,SAACC,GAAD,OAAOA,EAAEC,SAEnBC,UAbU,SAaAC,GACR,OAAOP,IAAMQ,KAAKN,KAAKL,OAAS,QAASU,GAAKJ,MAAK,SAACC,GAAD,OAAOA,EAAEC,SAE9DI,QAhBU,WAiBR,OAAOT,IAAMC,IAAIC,KAAKL,OAAS,SAASM,MAAK,SAACC,GAAD,OAAOA,EAAEC,SAExDK,kBAnBU,WAmBW,IAAD,OAClBR,KAAKJ,kBAAkBa,SAAQ,SAACtB,GAC9B,IAAMuB,EAAavB,EAAEG,GACrBqB,MAAM,IACHC,KAAK,GACL1B,KAAI,SAACgB,EAAGW,GAAJ,OAAUX,EAAIW,KAClBJ,SAAQ,SAACtB,GACR,IAAM2B,EAAO,WAAa3B,EAGpB4B,EAAU,eAAiBD,EACjC,EAAKV,UAAU,CACbU,OACAE,WALiB,OAMjBC,SALe,OAMfF,UACAL,uB,kDC8DGQ,G,OArGO,WACpB,IAAMC,EAAQC,aAAY,SAACD,GAAD,OAAWA,KAC/BE,EAAWC,cAFS,EAIFC,IAAMC,SAAS,IAAIC,MAJjB,mBAInBX,EAJmB,KAIbY,EAJa,OAKQH,IAAMC,SAAS,IAAIC,MAL3B,mBAKnBE,EALmB,KAKRC,EALQ,OAMIL,IAAMC,UAAS,GANnB,mBAMnBK,EANmB,KAMVC,EANU,OAOIP,IAAMC,SAAS,IAAIC,MAPvB,mBAOnBM,EAPmB,KAOVC,EAPU,KAsD1B,OACE,sBAAKC,UAAU,iBAAf,UACE,qBAAKC,MAAM,sBAAX,SACE,uBAAMC,SAhDM,SAACC,GACjBA,EAAMC,iBACN,IACMtB,EADSqB,EAAME,OACEC,cAAc,kBAAkBC,MAAMC,OAE7D,GAAK1B,EAAL,CAQA,IAAMV,EAAM,CACVS,OACAE,WAAYW,EACZV,SAAUc,EACVhB,UACAL,WAAYS,EAAMuB,YAAYpD,IAEhCe,EAAIS,KAAO6B,IAAMtC,EAAIS,MAAM8B,OAAO,cAClCvC,EAAIW,WAAa2B,IAAMtC,EAAIW,YAAY4B,OAAO,SAC9CvC,EAAIY,SAAW0B,IAAMtC,EAAIY,UAAU2B,OAAO,SAE1Cd,GAAW,GAEXpC,EACGU,UAAUC,GACVJ,MAAK,SAACI,GACLgB,EAAS,CAAEwB,KAAM,aAAcxC,WAEhCyC,MAAMC,OACNC,SAAQ,WACPlB,GAAW,WA3BbiB,MAAM,+BA0CJ,UACE,uBACEd,UAAU,mBACV5C,KAAK,UACLwD,KAAK,OACLI,YAAY,yBAEd,sBAAKhB,UAAU,wBAAf,UACE,cAAC,IAAD,CAAYiB,SAAUpC,EAAMqC,SAAU,SAACrC,GAAD,OAAUY,EAAQZ,MACxD,cAAC,IAAD,CACEoC,SAAUvB,EACVwB,SAAU,SAACrC,GAAD,OAAUc,EAAad,IACjCsC,gBAAc,EACdC,oBAAkB,EAClBC,cAAe,GACfC,YAAY,OACZC,WAAW,YAEb,cAAC,IAAD,CACEN,SAAUnB,EACVoB,SAAU,SAACrC,GAAD,OAAUkB,EAAWlB,IAC/BsC,gBAAc,EACdC,oBAAkB,EAClBC,cAAe,GACfC,YAAY,OACZC,WAAW,eAIf,uBAAOX,KAAK,SAASL,MAAM,gBAG/B,gCACGX,GAAW,qBAAKK,MAAM,UAAX,+BACXf,GACCA,EAAMsC,MACNtC,EAAMsC,KACHC,QAAO,SAACvE,GAAD,aAAOA,EAAEuB,cAAF,OAAiBS,QAAjB,IAAiBA,GAAjB,UAAiBA,EAAOuB,mBAAxB,aAAiB,EAAoBpD,OACnDJ,KAjDW,SAACC,GAAD,OACpB,sBAAK8C,UAAU,WAAf,UACE,8BAAM9C,EAAE2B,OACR,8BAAM3B,EAAE4B,UACR,8BAAM5B,EAAEuB,aACR,wCAASvB,EAAE6B,WAAX,cAA2B7B,EAAE8B,0B,gBCuCpB0C,EA7FI,WACjB,IAsD2BF,EAtDrBtC,EAAQC,aAAY,SAACD,GAAD,OAAWA,KADd,EAESI,IAAMC,SAAS,MAFxB,mBAEhB0B,EAFgB,KAENU,EAFM,KAIjBC,EAAU,SAAC,GAAgB,IAAdvB,EAAa,EAAbA,OACjBsB,EAAYtB,EAAOE,OACnBsB,QAAQzD,IAAI,CAAE6C,cAMVa,EAAYxC,IAAMyC,SAAQ,WAC9B,IAAMP,EAAI,OAAGtC,QAAH,IAAGA,OAAH,EAAGA,EAAOsC,KACdQ,EAAU,GAkBhB,OAjBAR,EAAKhD,SAAQ,SAACtB,GACZ,IAAM+E,EAAC,OAAG/C,QAAH,IAAGA,OAAH,EAAGA,EAAOlC,UAAUkF,MAAK,SAACjE,GAAD,OAAOf,EAAEuB,aAAeR,EAAEZ,MAAID,KAEzD4E,EAAQC,KACXD,EAAQC,GAAK,IAEVD,EAAQC,GAAG/E,EAAE2B,QAChBmD,EAAQC,GAAG/E,EAAE2B,MAAQ,GAGvB,IAAMsD,EAAKzB,IAAM,cAAD,OAAexD,EAAE6B,aAE3BqD,EADK1B,IAAM,cAAD,OAAexD,EAAE8B,WACjBqD,KAAKF,EAAI,WAAW,GAC9BG,EAAaC,WAAWH,EAAO,IAErCJ,EAAQC,GAAG/E,EAAE2B,OAASyD,KAEjBN,IACN,QAAC9C,QAAD,IAACA,OAAD,EAACA,EAAOsC,KAAR,OAActC,QAAd,IAAcA,OAAd,EAAcA,EAAOlC,YAQlBwF,EAAyB,SAAChB,EAAMiB,GACpC,IAAMC,EAAI,GAUV,OATAC,OAAOC,KAAKpB,GAAMhD,SAAQ,SAACtB,GACzB,IAAM2F,EATM,SAACC,EAAKL,GAAN,OACdK,EAAIC,QACF,SAACC,EAAKC,EAAG/F,GAAT,OAAgBA,EAAIuF,EAAOO,EAAX,sBAAqBA,GAArB,CAA0BF,EAAII,MAAMhG,EAAGA,EAAIuF,OAC3D,IAMgBU,CAAQR,OAAOS,QAAQ5B,EAAKtE,IAAKuF,GAAMxF,KAAI,SAACoG,EAAGC,GAC7D,OAAO,eACJA,EAAI,EAAID,EAAEN,QAAO,SAAC7D,EAAD,2CAAkCA,IAAO,OAG/DwD,EAAExF,GAAK2F,KAGFH,GAWT,OACE,gCACE,sBAAK1C,UAAU,0BAAf,UACE,uBAAOY,KAAK,SAASL,MAAM,KAAKqB,QAASA,IACzC,uBAAOhB,KAAK,SAASL,MAAM,KAAKqB,QAASA,IACzC,uBAAOhB,KAAK,SAASL,MAAM,KAAKqB,QAASA,OAG7B,OAAbX,GACC,gCACE,oCACA,8BAAMsC,KAAKC,UAAU1B,EAAW,KAAM,QAG5B,OAAbb,GACC,gCACE,oCACA,8BAAMsC,KAAKC,WAzBQhC,EAyBoBM,EAxBtCU,EAAuBhB,EAAM,IAwBqB,KAAM,QAG/C,OAAbP,GACC,gCACE,oCACA,8BAAMsC,KAAKC,UA3BQ,SAAChC,GAC1B,OAAOgB,EAAuBhB,EAAM,IA0BTiC,CAAmB3B,GAAY,KAAM,YC/ErD4B,EAXQ,SAACxG,GAAO,IACrBI,EAAkCJ,EAAlCI,MAAOC,EAA2BL,EAA3BK,QAASH,EAAkBF,EAAlBE,KAAMwE,EAAY1E,EAAZ0E,QAC9B,OACE,sBAAK5B,UAAU,kBAAf,UACE,qBAAK2D,IAAKrG,EAAOsG,IAAI,UACrB,+BAAOrG,EAAU,QAAU,SAC3B,yBAAQqE,QAAS,kBAAMA,EAAQ1E,IAA/B,sBAA6CE,S,OCepCyG,EAjBG,WAChB,IAAIC,EAAUC,cACR7E,EAAQC,aAAY,SAACD,GAAD,OAAWA,KAC/BE,EAAWC,cACXuC,EAAU,SAACnB,GACfrB,EAAS,CAAEwB,KAAM,mBAAoBH,gBACrCqD,EAAQE,KAAK,MAEf,OACE,qBAAKhE,UAAU,kBAAf,gBACGd,QADH,IACGA,OADH,EACGA,EAAOlC,UAAUC,KAAI,SAACC,GAAD,OACpB,cAAC,EAAD,2BAAoBA,GAApB,IAAuB0E,QAASA,W,QCPxC,SAASqC,EAAT,GAAkE,IAA/BC,EAA8B,EAAzCC,UAAsBC,EAAmB,EAAnBA,OAAWC,EAAQ,sCAC/D,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAK,EACLC,OAAQ,SAACC,GAAD,OACNJ,EACE,cAACF,EAAD,eAAeM,IAEf,cAAC,IAAD,CACEC,GAAI,CAAEC,SAAU,SAAUxF,MAAO,CAAEyF,KAAMH,EAAMI,iBAQ3D,IAsFeC,EAtFH,WAAO,IAAD,cACVzF,EAAWC,cACXH,EAAQC,aAAY,SAACD,GAAD,OAAWA,KAErCI,IAAMwF,WAAU,WACd,IAAM9H,EAAYS,EAAIE,kBACtByB,EAAS,CAAEwB,KAAM,mBAAoB5D,cAErCS,EAAIa,UAAUN,MAAK,SAACwD,GAClBpC,EAAS,CAAEwB,KAAM,cAAeY,cAEjC,CAACpC,IAEJE,IAAMwF,WAAU,WAAO,IAAD,GACpB,OAAI5F,QAAJ,IAAIA,GAAJ,UAAIA,EAAOuB,mBAAX,aAAI,EAAoBrD,OACtB2H,SAASzE,cAAc,cAAc0E,MAAMC,QAAU,OACrDF,SAASG,iBAAiB,aAAa1G,SAAQ,SAACtB,GAC9CA,EAAE8H,MAAMC,QAAU,oBAGpBF,SAASG,iBAAiB,aAAa1G,SAAQ,SAACtB,GAC9CA,EAAE8H,MAAMC,QAAU,UAEpBF,SAASzE,cAAc,cAAc0E,MAAMC,QAAU,kBAEtD,CAAC/F,IAEJ,IAAMiG,EAAS,kBACb,gCACE,cAAC,IAAD,CAAMnF,UAAU,WAAWyE,GAAG,IAA9B,kBAGA,cAAC,IAAD,CAAMzE,UAAU,WAAWyE,GAAG,aAA9B,sCAGA,cAAC,IAAD,CAAMpH,GAAG,YAAYoH,GAAG,SAAxB,mBAGA,mBACEpH,GAAG,gBACH+H,KAAK,IACLpF,UAAU,WACV4B,QAAS,WACPxC,EAAS,CAAEwB,KAAM,wBALrB,wBAaJ,OACE,iCACE,cAACuE,EAAD,KACM,OAALjG,QAAK,IAALA,GAAA,UAAAA,EAAOuB,mBAAP,eAAoBrD,OACnB,sBAAK4C,UAAU,sBAAf,UACE,qBAAK2D,IAAG,OAAEzE,QAAF,IAAEA,GAAF,UAAEA,EAAOuB,mBAAT,aAAE,EAAoBnD,QAC9B,sCACG4B,QADH,IACGA,GADH,UACGA,EAAOuB,mBADV,aACG,EAAoBrD,KAAM,IAC3B,sCAAa,OAAL8B,QAAK,IAALA,GAAA,UAAAA,EAAOuB,mBAAP,eAAoBlD,SAAU,QAAU,OAAhD,aAIN,qBAAKyC,UAAU,YAAf,SACE,eAAC,IAAD,aACG,OAACd,QAAD,IAACA,GAAD,UAACA,EAAOuB,mBAAR,aAAC,EAAoBrD,OACpB,cAAC,IAAD,CAAOiI,KAAK,SAASlB,UAAWN,EAAWS,OAAK,IAElD,cAACL,EAAD,CACEG,OAAM,OAAElF,QAAF,IAAEA,GAAF,UAAEA,EAAOuB,mBAAT,aAAE,EAAoBrD,KAC5BiI,KAAK,IACLf,OAAK,EACLH,UAAWlF,IAEb,cAACgF,EAAD,CACEG,OAAM,OAAElF,QAAF,IAAEA,GAAF,UAAEA,EAAOuB,mBAAT,aAAE,EAAoBrD,KAC5BiI,KAAK,aACLf,OAAK,EACLH,UAAWzC,a,QCtGjB4D,EACQ,aADRA,EAEc,mBAFdA,EAGS,cAHTA,EAIc,mBAJdA,EAKgB,qBAGhBC,EAAY,CAChB/D,KAAM,GACNxE,UAAW,GACXyD,YAAa,IAkBf,IAEe+E,EAFDC,aAfd,WAA6C,IAA5BvG,EAA2B,uDAAnBqG,EAAWG,EAAQ,uCAC1C,OAAQA,EAAO9E,MACb,KAAK0E,EACH,OAAO,2BAAKpG,GAAZ,IAAmBsC,KAAK,GAAD,mBAAMtC,EAAMsC,MAAZ,CAAkBkE,EAAOtH,QAClD,KAAKkH,EACH,OAAO,2BAAKpG,GAAZ,IAAmBlC,UAAU,GAAD,mBAAM0I,EAAO1I,WAAb,YAA2BkC,EAAMlC,cAC/D,KAAKsI,EACH,OAAO,2BAAKpG,GAAZ,IAAmBsC,KAAMkE,EAAOlE,OAClC,KAAK8D,EACH,OAAO,2BAAKpG,GAAZ,IAAmBuB,YAAaiF,EAAOjF,cACzC,KAAK6E,EACH,OAAO,2BAAKpG,GAAZ,IAAmBuB,YAAa,SCjBtCkF,IAASpB,OACP,cAAC,IAAMqB,WAAP,UACE,cAAC,IAAD,CAAUJ,MAAOA,EAAjB,SACE,cAAC,IAAD,UACE,cAAC,EAAD,UAINT,SAASc,eAAe,U","file":"static/js/main.255612b5.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst names = [\"Olivia\", \"Emma\", \"Ava\", \"Sophia\", \"Isabella\"];\r\nconst admins = [0];\r\nconst employees = names.map((i, n) => ({\r\n  name: i,\r\n  id: n,\r\n  image: `https://randomuser.me/api/portraits/women/${n}.jpg`,\r\n  isAdmin: admins.indexOf(n) > -1,\r\n}));\r\n\r\nconst api = {\r\n  DOMAIN: \"https://bottle-work-log-api-project.herokuapp.com\",\r\n  // DOMAIN: \"http://localhost:3001\",\r\n  getAllEmployees() {\r\n    return employees;\r\n  },\r\n  getLogsForEmployee(id) {\r\n    // just for fast prototyping purposes\r\n    // ALWAYS sanitize code for security\r\n    return axios\r\n      .get(this.DOMAIN + \"/logs?employeeId=\" + id)\r\n      .then((x) => x.data);\r\n  },\r\n  createLog(log) {\r\n    return axios.post(this.DOMAIN + \"/logs\", log).then((x) => x.data);\r\n  },\r\n  getLogs() {\r\n    return axios.get(this.DOMAIN + \"/logs\").then((x) => x.data);\r\n  },\r\n  populateDummyData() {\r\n    this.getAllEmployees().forEach((i) => {\r\n      const employeeId = i.id;\r\n      Array(30)\r\n        .fill(1)\r\n        .map((x, y) => x + y)\r\n        .forEach((i) => {\r\n          const date = \"2020/12/\" + i;\r\n          const start_time = \"1:00\";\r\n          const end_time = \"3:00\";\r\n          const remarks = \"Normal work \" + date;\r\n          this.createLog({\r\n            date,\r\n            start_time,\r\n            end_time,\r\n            remarks,\r\n            employeeId,\r\n          });\r\n        });\r\n    });\r\n  },\r\n};\r\n\r\nexport default api;\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport dayjs from \"dayjs\";\r\nimport React from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport api from \"../api\";\r\n\r\nconst CreateLogPage = () => {\r\n  const state = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [date, setDate] = React.useState(new Date());\r\n  const [startTime, setStartTime] = React.useState(new Date());\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [endTime, setEndTime] = React.useState(new Date());\r\n\r\n  const createLog = (event) => {\r\n    event.preventDefault();\r\n    const target = event.target;\r\n    const remarks = target.querySelector(\"[name=remarks]\").value.trim();\r\n\r\n    if (!remarks) {\r\n      alert(\"Remarks cant be left empty\");\r\n      return;\r\n    }\r\n\r\n    // TODO sanitize the data\r\n    // make sure that the stat time is older than the end time\r\n\r\n    const log = {\r\n      date,\r\n      start_time: startTime,\r\n      end_time: endTime,\r\n      remarks,\r\n      employeeId: state.currentUser.id,\r\n    };\r\n    log.date = dayjs(log.date).format(\"DD/MM/YYYY\");\r\n    log.start_time = dayjs(log.start_time).format(\"HH:mm\");\r\n    log.end_time = dayjs(log.end_time).format(\"HH:mm\");\r\n\r\n    setLoading(true);\r\n\r\n    api\r\n      .createLog(log)\r\n      .then((log) => {\r\n        dispatch({ type: \"CREATE_LOG\", log });\r\n      })\r\n      .catch(alert)\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const userLogMapper = (i) => (\r\n    <div className=\"user-log\">\r\n      <div>{i.date}</div>\r\n      <div>{i.remarks}</div>\r\n      <div>{i.employeeId}</div>\r\n      <div>{`${i.start_time} > ${i.end_time}`}</div>\r\n    </div>\r\n  );\r\n  return (\r\n    <div className=\"form-container\">\r\n      <div class=\"time-form-container\">\r\n        <form onSubmit={createLog}>\r\n          <input\r\n            className=\"remarks-text-box\"\r\n            name=\"remarks\"\r\n            type=\"text\"\r\n            placeholder=\"What were you doing?\"\r\n          />\r\n          <div className=\"time-picker-container\">\r\n            <DatePicker selected={date} onChange={(date) => setDate(date)} />\r\n            <DatePicker\r\n              selected={startTime}\r\n              onChange={(date) => setStartTime(date)}\r\n              showTimeSelect\r\n              showTimeSelectOnly\r\n              timeIntervals={15}\r\n              timeCaption=\"Time\"\r\n              dateFormat=\"h:mm aa\"\r\n            />\r\n            <DatePicker\r\n              selected={endTime}\r\n              onChange={(date) => setEndTime(date)}\r\n              showTimeSelect\r\n              showTimeSelectOnly\r\n              timeIntervals={15}\r\n              timeCaption=\"Time\"\r\n              dateFormat=\"h:mm aa\"\r\n            />\r\n          </div>\r\n\r\n          <input type=\"submit\" value=\"Update\" />\r\n        </form>\r\n      </div>\r\n      <div>\r\n        {loading && <div class=\"loading\">SUBMITTING LOG...</div>}\r\n        {state &&\r\n          state.logs &&\r\n          state.logs\r\n            .filter((i) => i.employeeId === state?.currentUser?.id) //not recommending to do this in real projects\r\n            .map(userLogMapper)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateLogPage;\r\n","import { useSelector } from \"react-redux\";\r\nimport React from \"react\";\r\nimport dayjs from \"dayjs\";\r\n\r\nconst ReportPage = () => {\r\n  const state = useSelector((state) => state);\r\n  const [selected, setSelected] = React.useState(\"1D\");\r\n\r\n  const onClick = ({ target }) => {\r\n    setSelected(target.value);\r\n    console.log({ selected });\r\n  };\r\n\r\n  // makes the work log time to a much more manageable\r\n  // formatted in hours\r\n\r\n  const dailyLogs = React.useMemo(() => {\r\n    const logs = state?.logs;\r\n    const newLogs = {};\r\n    logs.forEach((i) => {\r\n      const e = state?.employees.find((x) => i.employeeId === x.id).name;\r\n      // const e = i.employeeId;\r\n      if (!newLogs[e]) {\r\n        newLogs[e] = {};\r\n      }\r\n      if (!newLogs[e][i.date]) {\r\n        newLogs[e][i.date] = 0;\r\n      }\r\n\r\n      const ft = dayjs(`2000-01-01 ${i.start_time}`);\r\n      const tt = dayjs(`2000-01-01 ${i.end_time}`);\r\n      const mins = tt.diff(ft, \"minutes\", true);\r\n      const totalHours = parseFloat(mins / 60);\r\n\r\n      newLogs[e][i.date] += totalHours;\r\n    });\r\n    return newLogs;\r\n  }, [state?.logs, state?.employees]);\r\n\r\n  const chunker = (arr, size) =>\r\n    arr.reduce(\r\n      (acc, _, i) => (i % size ? acc : [...acc, arr.slice(i, i + size)]),\r\n      []\r\n    );\r\n\r\n  const batchLogsForIntervalOf = (logs, size) => {\r\n    const o = {};\r\n    Object.keys(logs).forEach((i) => {\r\n      const batches = chunker(Object.entries(logs[i]), size).map((k, v) => {\r\n        return {\r\n          [v + 1]: k.reduce((state, [date, hours]) => hours + state, 0),\r\n        };\r\n      });\r\n      o[i] = batches;\r\n    });\r\n\r\n    return o;\r\n  };\r\n\r\n  const batchLogsForAWeek = (logs) => {\r\n    return batchLogsForIntervalOf(logs, 7);\r\n  };\r\n\r\n  const batchLogsForAMonth = (logs) => {\r\n    return batchLogsForIntervalOf(logs, 30);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"time-interval-container\">\r\n        <input type=\"button\" value=\"1D\" onClick={onClick} />\r\n        <input type=\"button\" value=\"1W\" onClick={onClick} />\r\n        <input type=\"button\" value=\"1M\" onClick={onClick} />\r\n      </div>\r\n      {/* {JSON.stringify(state.logs)} */}\r\n      {selected === \"1D\" && (\r\n        <div>\r\n          <h1>1D</h1>\r\n          <pre>{JSON.stringify(dailyLogs, null, 4)}</pre>\r\n        </div>\r\n      )}\r\n      {selected === \"1W\" && (\r\n        <div>\r\n          <h1>1W</h1>\r\n          <pre>{JSON.stringify(batchLogsForAWeek(dailyLogs), null, 4)}</pre>\r\n        </div>\r\n      )}\r\n      {selected === \"1M\" && (\r\n        <div>\r\n          <h1>1M</h1>\r\n          <pre>{JSON.stringify(batchLogsForAMonth(dailyLogs), null, 4)}</pre>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportPage;\r\n","const ProfileWrapper = (i) => {\r\n  const { image, isAdmin, name, onClick } = i;\r\n  return (\r\n    <div className=\"profile-wrapper\">\r\n      <img src={image} alt=\"image\" />\r\n      <span>{isAdmin ? \"admin\" : \"user\"}</span>\r\n      <button onClick={() => onClick(i)}>Login as {name}</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileWrapper;\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport ProfileWrapper from \"../components/ProfileWrapper\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst LoginPage = () => {\r\n  let history = useHistory();\r\n  const state = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const onClick = (currentUser) => {\r\n    dispatch({ type: \"SET_CURRENT_USER\", currentUser });\r\n    history.push(\"/\");\r\n  };\r\n  return (\r\n    <div className=\"login-container\">\r\n      {state?.employees.map((i) => (\r\n        <ProfileWrapper {...i} onClick={onClick} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React from \"react\";\r\nimport api from \"./api\";\r\nimport CreateLogPage from \"./pages/CreateLogPage\";\r\nimport ReportPage from \"./pages/ReportPage\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Route, Switch, Redirect } from \"react-router-dom\";\r\n\r\nfunction PrivateRoute({ component: Component, authed, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      exact\r\n      render={(props) =>\r\n        authed ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{ pathname: \"/login\", state: { from: props.location } }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n\r\n  React.useEffect(() => {\r\n    const employees = api.getAllEmployees();\r\n    dispatch({ type: \"UPDATE_EMPLOYEES\", employees });\r\n\r\n    api.getLogs().then((logs) => {\r\n      dispatch({ type: \"UPDATE_LOGS\", logs });\r\n    });\r\n  }, [dispatch]);\r\n\r\n  React.useEffect(() => {\r\n    if (state?.currentUser?.name) {\r\n      document.querySelector(\"#login-nav\").style.display = \"none\";\r\n      document.querySelectorAll(\".auth-nav\").forEach((i) => {\r\n        i.style.display = \"inline-block\";\r\n      });\r\n    } else {\r\n      document.querySelectorAll(\".auth-nav\").forEach((i) => {\r\n        i.style.display = \"none\";\r\n      });\r\n      document.querySelector(\"#login-nav\").style.display = \"inline-block\";\r\n    }\r\n  }, [state]);\r\n\r\n  const Navbar = () => (\r\n    <nav>\r\n      <Link className=\"auth-nav\" to=\"/\">\r\n        Home\r\n      </Link>\r\n      <Link className=\"auth-nav\" to=\"/show_logs\">\r\n        Show All Users Time Logs\r\n      </Link>\r\n      <Link id=\"login-nav\" to=\"/login\">\r\n        Login\r\n      </Link>\r\n      <a\r\n        id=\"logout-button\"\r\n        href=\"#\"\r\n        className=\"auth-nav\"\r\n        onClick={() => {\r\n          dispatch({ type: \"CLEAR_CURRENT_USER\" });\r\n        }}\r\n      >\r\n        Logout\r\n      </a>\r\n    </nav>\r\n  );\r\n\r\n  return (\r\n    <main>\r\n      <Navbar />\r\n      {state?.currentUser?.name && (\r\n        <div className=\"nav-profile-wrapper\">\r\n          <img src={state?.currentUser?.image} />\r\n          <h1>\r\n            {state?.currentUser?.name}{\" \"}\r\n            <span>({state?.currentUser?.isAdmin ? \"admin\" : \"user\"})</span>\r\n          </h1>\r\n        </div>\r\n      )}\r\n      <div className=\"container\">\r\n        <Switch>\r\n          {!state?.currentUser?.name && (\r\n            <Route path=\"/login\" component={LoginPage} exact />\r\n          )}\r\n          <PrivateRoute\r\n            authed={state?.currentUser?.name}\r\n            path=\"/\"\r\n            exact\r\n            component={CreateLogPage}\r\n          />\r\n          <PrivateRoute\r\n            authed={state?.currentUser?.name}\r\n            path=\"/show_logs\"\r\n            exact\r\n            component={ReportPage}\r\n          />\r\n        </Switch>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\n\r\nconst actions = {\r\n  CREATE_LOG: \"CREATE_LOG\",\r\n  UPDATE_EMPLOYEES: \"UPDATE_EMPLOYEES\",\r\n  UPDATE_LOGS: \"UPDATE_LOGS\",\r\n  SET_CURRENT_USER: \"SET_CURRENT_USER\",\r\n  CLEAR_CURRENT_USER: \"CLEAR_CURRENT_USER\",\r\n};\r\n\r\nconst initState = {\r\n  logs: [],\r\n  employees: [],\r\n  currentUser: {},\r\n};\r\n\r\nfunction reducer(state = initState, action) {\r\n  switch (action.type) {\r\n    case actions.CREATE_LOG:\r\n      return { ...state, logs: [...state.logs, action.log] };\r\n    case actions.UPDATE_EMPLOYEES:\r\n      return { ...state, employees: [...action.employees, ...state.employees] };\r\n    case actions.UPDATE_LOGS:\r\n      return { ...state, logs: action.logs };\r\n    case actions.SET_CURRENT_USER:\r\n      return { ...state, currentUser: action.currentUser };\r\n    case actions.CLEAR_CURRENT_USER:\r\n      return { ...state, currentUser: {} };\r\n  }\r\n}\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n// import reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}